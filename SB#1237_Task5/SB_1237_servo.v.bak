module SB_1237_servo(
    input clk,
    output servo,
	 input [1:0] cmd
	 
    );
reg servo_reg;
reg [19:0] ct;
reg [15:0] angle= 'd50000;
integer st=0;
always @(posedge clk)
begin
	ct <= ct + 1;
	if(ct == 'd999999)
			ct <= 0;

	if(ct < ('d50000 + angle))
			servo_reg <= 1;
	else
			servo_reg <= 0;

case(st)
0:
begin
	if(cmd=='b10)
	st=3;
	if(cmd=='b01)
st=1;
end
1:
begin
	
	angle=0;
	if(angle =='d0)
		st=0;
end

3:
begin
	angle ='d50000;
	if(angle =='d50000)
	st=0;
end
endcase
end

assign servo	= servo_reg;

endmodule